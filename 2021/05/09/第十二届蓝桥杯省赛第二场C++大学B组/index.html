<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1,user-scalable=no"><meta name="renderer" content="webkit"><meta name="color-scheme" content="dark light"><meta name="author" content="ainexur"><meta name="description" content="温故 知新"><meta name="keywords" content="博客"><title>第十二届蓝桥杯省赛第二场C++B组题解</title><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_3242539_utq6ykfq7z.css"><link rel="stylesheet" light-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/default.min.css" dark-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/tokyo-night-dark.min.css"><link rel="stylesheet" href="https://fonts.font.im/css?family=Noto+Serif" as="font"><link href="/style/index.css" rel="stylesheet"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="寻人启事" type="application/atom+xml">
</head><body><header class="page-header"><nav><ul class="router-list"><li class="nav-item"> <a href="/">主页</a></li><li class="nav-item"> <a href="/archives/">归档</a></li><li class="nav-item"> <a href="/atom.xml">RSS</a></li></ul><div class="mode-switch"><span class="iconfont icon-DarkTheme"></span></div></nav></header><main><section class="main-content"><section class="post-page"><div class="title-bar"><h1>第十二届蓝桥杯省赛第二场C++B组题解</h1><div class="post-info"><span>2021-05-09 17:51:00</span><span class="tags"><a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/">#蓝桥杯</a></span></div></div><article> <div class="content"><p>[TOC]</p>
<p>拿到试题解压一看，就这？啪的一下A题直接提交1，传统功夫A题点到为止。这题不用优化，那题直接暴力求解，半个小时不到就到了J题，很快啊。回头一检查，这题写错了、这题看错题意，全部丢分了，我大意了啊，他说他是简单题，他可不是简单题，排列组合、质因数分解、prim、优先队列、回溯，看来是有备而来！我劝年轻人好自为之，好好反思，以后不要再犯这样的聪明，贪图一时快…武林要以和为贵，要细心读题，仔细码题，谢谢朋友们！</p>
<p><strong>考前：第一场这么难..</strong></p>
<p><strong>拿到试题：重铸省一荣光，我辈义不容辞</strong></p>
<p><strong>看了大佬题解：拿到省三就算成功</strong></p>
<h1 id="结果填空题"><a href="#结果填空题" class="headerlink" title="结果填空题"></a>结果填空题</h1><h2 id="填空题答案一览"><a href="#填空题答案一览" class="headerlink" title="填空题答案一览"></a>填空题答案一览</h2><table>
<thead>
<tr>
<th>题目</th>
<th>答案</th>
<th>分值</th>
</tr>
</thead>
<tbody><tr>
<td>A: 求余</td>
<td>$1$</td>
<td>$5$</td>
</tr>
<tr>
<td>B: 双阶乘</td>
<td>$59375$</td>
<td>$5$</td>
</tr>
<tr>
<td>C: 格点</td>
<td>$15698$</td>
<td>$10$</td>
</tr>
<tr>
<td>D: 整数分解</td>
<td>$691677274345$</td>
<td>$10$</td>
</tr>
<tr>
<td>E: 城邦</td>
<td>$4046$</td>
<td>$15$</td>
</tr>
</tbody></table>
<h2 id="A-求余"><a href="#A-求余" class="headerlink" title="A: 求余"></a>A: 求余</h2><p><strong>代码</strong>：</p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    cout&lt;&lt; <span class="hljs-number">2021</span>%<span class="hljs-number">20</span> &lt;&lt;endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//1</span></code></pre>



<h2 id="B-双阶乘"><a href="#B-双阶乘" class="headerlink" title="B: 双阶乘"></a>B: 双阶乘</h2><p><strong>分析：</strong>高位上的数字对结果没有影响，取余截掉</p>
<p><strong>代码:</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-type">int</span> num = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">2021</span>;i&gt;<span class="hljs-number">0</span>;i-=<span class="hljs-number">2</span>) num = (num * i) %<span class="hljs-number">1000000</span>;
    cout&lt;&lt; num % <span class="hljs-number">100000</span> &lt;&lt;endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//59375</span></code></pre>



<h2 id="C-格点"><a href="#C-格点" class="headerlink" title="C: 格点"></a>C: 格点</h2><p><strong>分析:</strong> 根据题意，枚举所有可能符合的坐标，进行判断</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">2030</span>;i++)&#123;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">1</span>;j&lt;=<span class="hljs-number">2030</span>;j++)&#123;
                <span class="hljs-keyword">if</span>(i * j &lt;=<span class="hljs-number">2021</span>) res++;
        &#125;
    &#125;
    cout&lt;&lt; res &lt;&lt;endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//15698</span></code></pre>



<h2 id="D-整数分解"><a href="#D-整数分解" class="headerlink" title="D: 整数分解"></a>D: 整数分解</h2><h3 id="解法一-四重循环暴力求解："><a href="#解法一-四重循环暴力求解：" class="headerlink" title="解法一-四重循环暴力求解："></a>解法一-四重循环暴力求解：</h3><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> ll long long</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123; 
    <span class="hljs-type">long</span> <span class="hljs-type">long</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span> n =<span class="hljs-number">2021</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;a&lt;=<span class="hljs-number">500</span>;a++)&#123;
        <span class="hljs-type">int</span> an = n-a;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> b = a;b&lt;=<span class="hljs-number">1000</span>;b++)&#123;
            <span class="hljs-type">int</span> bn = an -b;
            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> c = b;c&lt;=<span class="hljs-number">1500</span>;c++)&#123;
                <span class="hljs-type">int</span> cn = bn -c ;
                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> d = c;d&lt;=cn;d++)&#123;
                    <span class="hljs-type">int</span> e = cn - d;
                    <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">if</span>(e &gt;= d)&#123;
                        <span class="hljs-comment">//五个相等</span>
                        <span class="hljs-keyword">if</span>(a == e) t =<span class="hljs-number">1</span>;
                        <span class="hljs-comment">//四个相等</span>
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((a==d) || (b==e)) t =<span class="hljs-number">5</span>;
                        <span class="hljs-comment">//三个相等                        </span>
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((a==c) || (b==d) || (c==e)) t= <span class="hljs-number">20</span>;
                        <span class="hljs-comment">//两对相等</span>
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((a==b &amp;&amp; c==d) || (a==b &amp;&amp; d==e) || (b==c &amp;&amp; d ==e)) t= <span class="hljs-number">30</span>;
                        <span class="hljs-comment">//一对相等</span>
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a==b || b==c || c==d || d==e) t = <span class="hljs-number">60</span>;
                        <span class="hljs-comment">//全不相等</span>
                        <span class="hljs-keyword">else</span> t = <span class="hljs-number">120</span>;
                    &#125;

                    res += t;
                &#125;
            &#125;
        &#125;
    &#125;
    cout&lt;&lt; res &lt;&lt;endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//691677277715</span></code></pre>



<h3 id="解法二-转换思路的三重循环："><a href="#解法二-转换思路的三重循环：" class="headerlink" title="解法二-转换思路的三重循环："></a>解法二-转换思路的三重循环：</h3><p><strong>分析</strong>：三重循环枚举三个数，差是m，和为m的两个正整数可能是m-1种</p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>
<span class="hljs-function"></span>&#123;
	ll res = <span class="hljs-number">0</span>;
	<span class="hljs-type">int</span> n = <span class="hljs-number">2021</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;a&lt;=n;a++)
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> b = <span class="hljs-number">1</span>;b&lt;=n;b++)
            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> c = <span class="hljs-number">1</span>;c&lt;=n;c++)
            &#123;
                <span class="hljs-type">int</span> d = n -a -b -c;
                <span class="hljs-keyword">if</span>(d &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;
                res += d<span class="hljs-number">-1</span>;
            &#125;
	cout&lt;&lt; res &lt;&lt;endl;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//691677274345</span></code></pre>

<h3 id="解法三-动态规划："><a href="#解法三-动态规划：" class="headerlink" title="解法三-动态规划："></a>解法三-动态规划：</h3><p>1-2021，取五个数的和是2021的可能数</p>
<p>$dp[i][j]$表示$i$个数和为$j$的可能数 </p>
<p>$k$表示$dp[i-1][j-k]$加上一个数$k$，就是$dp[i][j]$的所有可能</p>
<p>$$<br>dp[i][j] &#x3D; \begin{cases} dp[i][j] +dp[i-1]<a href="j%3Ek">j-k</a>\0 \end{cases}<br>$$<br><strong>代码</strong>：</p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> ll long long</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    ll dp[<span class="hljs-number">6</span>][<span class="hljs-number">2022</span>];
    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;<span class="hljs-number">2022</span>;i++) dp[<span class="hljs-number">1</span>][i] = <span class="hljs-number">1</span>; <span class="hljs-comment">//边界处理</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">2</span>;i&lt;=<span class="hljs-number">5</span>;i++)
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">1</span>; j&lt;<span class="hljs-number">2022</span>;j++)
            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k&lt;<span class="hljs-number">2022</span>;k++)&#123;
                <span class="hljs-keyword">if</span>(j-k &gt; <span class="hljs-number">0</span>) dp[i][j] += dp[i<span class="hljs-number">-1</span>][j-k];
            &#125;
    cout&lt;&lt; dp[<span class="hljs-number">5</span>][<span class="hljs-number">2021</span>];
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//691677274345</span></code></pre>

<h3 id="隔板法"><a href="#隔板法" class="headerlink" title="隔板法"></a>隔板法</h3><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;
	cout&lt;&lt; <span class="hljs-number">1ll</span>*<span class="hljs-number">2020</span>*<span class="hljs-number">2019</span>*<span class="hljs-number">2018</span>*<span class="hljs-number">2017</span>/<span class="hljs-number">4</span>/<span class="hljs-number">3</span>/<span class="hljs-number">2</span>&lt;&lt;endl;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>



<h2 id="E-城邦"><a href="#E-城邦" class="headerlink" title="E: 城邦"></a>E: 城邦</h2><p><strong>分析：</strong>构建邻接矩阵，最小生成树套模板（prim）</p>
<p>这题比赛的时候理解错权重了，给的数据 </p>
<blockquote>
<p> 2021 和 922加起来是 (2 + 0 + 1) + (0 + 9 + 2) &#x3D; 14</p>
</blockquote>
<p>以为权重等于不同数字的和！！！15分凉凉</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> maxn 2030</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> INF 0x3f3f3f3f</span>
<span class="hljs-type">int</span> e[maxn][maxn];
<span class="hljs-type">int</span> cost[maxn];
<span class="hljs-type">bool</span> used[maxn];
<span class="hljs-type">int</span> V = <span class="hljs-number">2021</span>;

<span class="hljs-comment">//prim</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">prim</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-built_in">memset</span>(cost , INF , <span class="hljs-keyword">sizeof</span> cost);
    <span class="hljs-built_in">memset</span>(used , <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> used);  
    cost[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)
    &#123;
        <span class="hljs-type">int</span> v = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> u = <span class="hljs-number">1</span>;u&lt;=V;u++)&#123;
            <span class="hljs-keyword">if</span>(!used[u] &amp;&amp; (v==<span class="hljs-number">-1</span> || cost[u] &lt; cost[v])) v = u;
        &#125;
        <span class="hljs-keyword">if</span>(v == <span class="hljs-number">-1</span>) <span class="hljs-keyword">break</span>;
        used[v] = <span class="hljs-number">1</span>;
        res += cost[v];
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> u = <span class="hljs-number">1</span>;u&lt;=V;u++)&#123;
            cost[u] = <span class="hljs-built_in">min</span>(cost[u], e[v][u]);
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;
<span class="hljs-comment">//获取权重</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span></span>&#123;
    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(a || b)&#123;
        <span class="hljs-keyword">if</span>(a%<span class="hljs-number">10</span> != b%<span class="hljs-number">10</span>) res+=a%<span class="hljs-number">10</span> + b%<span class="hljs-number">10</span>;
        a/=<span class="hljs-number">10</span>, b/=<span class="hljs-number">10</span>;
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>&#123;
   <span class="hljs-comment">//邻接矩阵</span>
    <span class="hljs-built_in">memset</span>(e, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> e);
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">2021</span>;i++)
    &#123;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">1</span>;j&lt;=<span class="hljs-number">2021</span>;j++)
        &#123;
            <span class="hljs-keyword">if</span>(i == j) <span class="hljs-keyword">continue</span>;
            e[i][j] = e[j][i] = <span class="hljs-built_in">get</span>(i , j);
        &#125;
    &#125;
    cout&lt;&lt; <span class="hljs-built_in">prim</span>() &lt;&lt;endl;
&#125;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-built_in">solve</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
<span class="hljs-comment">//4046</span></code></pre>



<h1 id="程序设计题"><a href="#程序设计题" class="headerlink" title="程序设计题"></a>程序设计题</h1><h2 id="F-特殊年份"><a href="#F-特殊年份" class="headerlink" title="F: 特殊年份"></a><strong>F:</strong> 特殊年份</h2><p><strong>分析：</strong>根据题意，求各位的数字，进行判断</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> maxn 10</span>

<span class="hljs-type">int</span> a[maxn];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;

    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) cin&gt;&gt;a[i];

    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++)&#123;
        <span class="hljs-type">int</span> q = a[i] /<span class="hljs-number">1000</span>;
        <span class="hljs-type">int</span> b = a[i] %<span class="hljs-number">1000</span> / <span class="hljs-number">100</span>;
        <span class="hljs-type">int</span> s = a[i] %<span class="hljs-number">100</span> / <span class="hljs-number">10</span>;
        <span class="hljs-type">int</span> g = a[i] %<span class="hljs-number">10</span>;
        <span class="hljs-keyword">if</span>(q == s &amp;&amp; g == b +<span class="hljs-number">1</span>) &#123;
            res ++;
        &#125;
    &#125;
    cout&lt;&lt; res;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;</code></pre>

<h2 id="G-小平方"><a href="#G-小平方" class="headerlink" title="G: 小平方"></a><strong>G:</strong> 小平方</h2><p><strong>分析：</strong>暴力枚举，数据规模小（1 ≤ <em>n</em> ≤ 10000）</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-type">int</span> n;
    cin &gt;&gt; n;
    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">1</span>;i&lt;n;i++)&#123;
        <span class="hljs-keyword">if</span>( (i*i%n) &lt; (n /<span class="hljs-number">2.0</span>)) res++;
    &#125;
    cout&lt;&lt; res;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;</code></pre>

<h2 id="H-完全平方数"><a href="#H-完全平方数" class="headerlink" title="H: 完全平方数"></a>H: 完全平方数</h2><p><strong>分析：</strong>对n进行质因数分解，将奇数个的所有质因数的乘积就是答案。</p>
<p>$ \sqrt{p} &#x3D;  \sqrt{p_1^{a1} \cdot P_2^{a2} \cdot P_3^{a3}} &#x3D; \sqrt{p_1^{a1}} \cdot\sqrt{ P_2^{a2}} \cdot \sqrt{P_3^{a3}}，当a1是偶数时，\sqrt{p_1^{a1}} &#x3D; \sqrt{p_1^{a1&#x2F;2}} \cdot \sqrt{p_1^{a1&#x2F;2}}, a2 、a3 同理$ </p>
<p>举例子：对某个数$a$质因数分解的结果是：$a &#x3D; 2 ^3 \cdot 3^3$，那么$res &#x3D; a \cdot 2 \cdot 3$，$res$就是完全平方数，答案是$6$;</p>
<p>举例子：某个数的质因数分解的结果是：$a &#x3D; 2 ^2 \cdot 3^3 \cdot 5^3$， 那么$res &#x3D; a \cdot 3 \cdot 5$，$res$就是完全平方数，答案是$15$；</p>
<p>举例子：某个数的质因数分解的结果是：$a &#x3D; 2 ^2 \cdot 3^2 \cdot 5^2$， 那么$res &#x3D; a$，$res$就是完全平方数，答案是$1$。</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> ll long long</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    ll n;
    cin&gt;&gt;n;
    ll res =<span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">2</span>;i&lt;=<span class="hljs-number">10000010</span>;++i)&#123;
        <span class="hljs-keyword">if</span>(n&lt;<span class="hljs-number">2</span>) <span class="hljs-keyword">break</span>;
        ll t = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span>(n%i==<span class="hljs-number">0</span>)&#123;
            ++t;
            n/=i;
        &#125;
        <span class="hljs-keyword">if</span>(t%<span class="hljs-number">2</span>==<span class="hljs-number">1</span>) res *= i;
    &#125;
    cout &lt;&lt; res;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;</code></pre>

<h2 id="I-负载均衡"><a href="#I-负载均衡" class="headerlink" title="I: 负载均衡"></a><strong>I:</strong> 负载均衡</h2><p><strong>分析：</strong></p>
<p>代码要实现的功能总结：枚举所有任务，对于当前每个任务，消耗算力并将该算力倒计时，直到任务结束返回算力（当前任务消耗d算力c秒）。</p>
<p>由于时间的数据范围10^9，枚举所有的时间会超时。怎么进行算力倒计时决定了这道题的时间复杂度</p>
<p>优先队列维护任务占用的算力，算力释放的时间 &#x3D;（a+c)。每次分配任务前，先释放算力，如果足够分配当前任务，将该任务消耗的算力压入优先队列。</p>
<p>时间复杂度$O(m\cdot\log m)$</p>
<p><strong>代码：</strong></p>
<pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-meta">#<span class="hljs-keyword">define</span> maxn 200010</span>
<span class="hljs-type">int</span> n, m;
<span class="hljs-type">int</span> arr[maxn];
<span class="hljs-type">int</span> a, b, c, d;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>
&#123;
    <span class="hljs-type">int</span> endTime, id , val;
    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-type">const</span> Node &amp;node)<span class="hljs-type">const</span> &#123;
        <span class="hljs-keyword">return</span> endTime &gt; node.endTime;
    &#125;
&#125;;

priority_queue&lt;Node&gt; q;
<span class="hljs-comment">//释放算力</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getd</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())&#123;
        Node t= q.<span class="hljs-built_in">top</span>();
        <span class="hljs-keyword">if</span>(t.endTime &gt; a) <span class="hljs-keyword">break</span>;
        q.<span class="hljs-built_in">pop</span>();
        <span class="hljs-type">int</span> i =t.id, v = t.val;
        arr[i] += v;
    &#125;
&#125;
<span class="hljs-comment">//消耗算力</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">task</span><span class="hljs-params">()</span></span>&#123;
    <span class="hljs-built_in">getd</span>();
    <span class="hljs-keyword">if</span>(arr[b] &gt;= d)&#123;
        q.<span class="hljs-built_in">push</span>(&#123;a+c, b ,d&#125;);<span class="hljs-comment">//算力排队</span>
        arr[b] -= d;
        cout&lt;&lt; arr[b];
    &#125;<span class="hljs-keyword">else</span>&#123;
        cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>;
    &#125;
&#125;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    cin&gt;&gt;n&gt;&gt;m;
    <span class="hljs-built_in">memset</span>(arr, <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> arr);
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">1</span>;i&lt;=n;i++) cin&gt;&gt;arr[i];
    <span class="hljs-keyword">while</span>(m--)&#123;
        cin&gt;&gt; a&gt;&gt; b &gt;&gt;c&gt;&gt;d;
        <span class="hljs-built_in">task</span>();
        <span class="hljs-keyword">if</span>(m&gt;<span class="hljs-number">0</span>) cout&lt;&lt;endl;
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;</code></pre>

<h2 id="J-国际象棋-状态压缩DP"><a href="#J-国际象棋-状态压缩DP" class="headerlink" title="J: 国际象棋(状态压缩DP)"></a><strong>J:</strong> 国际象棋(状态压缩DP)</h2><p>当前行的摆放位置，受到前两行的约数，重复子问题，可以用dp。由于n很小，所以可以用状态压缩</p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">110</span>, M = <span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">6</span>,K = <span class="hljs-number">21</span>, MOD = <span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>;
<span class="hljs-type">int</span> n, m ,k;
<span class="hljs-type">int</span> dp[N][M][M][K];
<span class="hljs-meta">#<span class="hljs-keyword">define</span> ll  long long</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getCnt</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span>&#123;
    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (num)
    &#123;
        res ++;
        num &amp;= (num<span class="hljs-number">-1</span>);
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;
    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;
    dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">1</span>;i&lt;=m;i++)&#123;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;a&lt; <span class="hljs-number">1</span>&lt;&lt;n;a++)&#123;
            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> b = <span class="hljs-number">0</span>; b&lt; <span class="hljs-number">1</span>&lt;&lt;n;b++)&#123;
                <span class="hljs-keyword">if</span>(a &amp; (b &lt;&lt; <span class="hljs-number">2</span>) || b &amp; (a &lt;&lt; <span class="hljs-number">2</span>)) <span class="hljs-keyword">continue</span>;
                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; <span class="hljs-number">1</span>&lt;&lt;n; c++)&#123;
                    <span class="hljs-keyword">if</span>(b &amp; (c &lt;&lt; <span class="hljs-number">2</span>) || c &amp; (b &lt;&lt; <span class="hljs-number">2</span>)) <span class="hljs-keyword">continue</span>;
                    <span class="hljs-keyword">if</span>(a &amp; (c &lt;&lt; <span class="hljs-number">1</span>) || c &amp; (a &lt;&lt; <span class="hljs-number">1</span>)) <span class="hljs-keyword">continue</span>;
                    <span class="hljs-type">int</span> t = <span class="hljs-built_in">getCnt</span>(a);
                    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = t;j&lt;=k;j++)&#123;
                        dp[i][a][b][j] += dp[i<span class="hljs-number">-1</span>][b][c][j-t] % MOD;
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;
    ll res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1</span>&lt;&lt;n;i++)
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">0</span>;j&lt; <span class="hljs-number">1</span>&lt;&lt;n;j++)
            res += dp[m][i][j][k]%MOD;

    cout&lt;&lt; res %MOD &lt;&lt;endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>



</div></article><div class="copyright-wrapper"><p>原文作者:<a href="https://ainexur.github.io">ainexur</a></p><p>原文链接:<a href="https://ainexur.github.io/2021/05/09/%E7%AC%AC%E5%8D%81%E4%BA%8C%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9B%E7%AC%AC%E4%BA%8C%E5%9C%BAC++%E5%A4%A7%E5%AD%A6B%E7%BB%84/">第十二届蓝桥杯省赛第二场C++B组题解</a></p><p>发表日期: 2021-05-09 17:51:00</p><p>更新日期: 2023-04-02 23:52:57</p><p>版权声明: 本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class="post-pager"><div class="prev"><a href="/2021/09/06/CSAPP%E7%AC%AC%E4%BA%8C%E7%AB%A0%E5%AE%B6%E5%BA%AD%E4%BD%9C%E4%B8%9A2-55/" title="CSAPP第二章家庭作业2.55">上一篇 CSAPP第二章家庭作业2.55</a></div><div class="next"> <a href="/2021/05/04/%E7%AC%AC%E5%8D%81%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9BCB%E7%BB%84/" title="第十届蓝桥杯省赛CB组">下一篇 第十届蓝桥杯省赛CB组</a></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css"/><script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script><div id="gitalk-container"></div><script>new Gitalk({
  clientID: '',
  clientSecret: '',
  repo: '',
  owner: '',
  admin: '',
  id: location.pathname.substr(0, 48),
  distractionFreeMode: true,
  labels: ['Gitalk'],
  title: '第十二届蓝桥杯省赛第二场C++B组题解',
}).render('gitalk-container');</script></section></section></main><footer class="footer-page"><div><span>Powered by</span><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a><span>| Theme</span><a target="_blank" rel="noopener" href="https://github.com/techmovie/hexo-theme-instapaper">instapaper</a></div></footer><script src="/scripts/dark.js"></script><script src="/scripts/post.js"></script></body></html>